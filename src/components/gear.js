import React, { useEffect, forwardRef } from "react";
import gsap from "gsap"
import '../styles/gear.css'

const GearSvg = forwardRef(function GearSvg(_, ref) {
    return (
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="100%"
            height="100%"
            data-name="Layer 1"
            fill="#6B705C"
            stroke="#6B705C"
            viewBox="0 0 259 259"
            class="gear"
        >
            <path
                d="M1298 2523c-18-38-33-68-33-69s-16-4-35-7c-32-4-37-2-48 23-7 16-26 46-41 67-26 36-32 39-66 35-42-5-58-30-70-114-6-41-11-48-38-58-30-10-34-8-87 45l-56 56-36-15c-42-18-53-50-43-125 6-44 5-49-21-66-23-15-30-16-48-4-12 7-43 25-71 40l-50 28-34-28-33-27 20-75 21-74-22-22-22-22-74 25c-71 24-74 25-93 7-41-37-41-50-4-120 34-63 35-67 20-93-16-26-18-26-98-22l-81 4-17-35c-19-40-14-51 49-118 28-30 33-41 27-63-8-32-15-36-103-50-65-11-65-11-74-49-11-45 2-64 70-104 39-22 43-29 43-63 0-36-2-38-44-50-77-21-106-45-106-85 0-29 6-39 32-55 17-10 51-25 75-32 40-12 43-15 43-48s-5-40-49-68c-68-45-75-55-64-99 9-40 18-44 116-58 40-5 50-11 58-33 6-15 7-32 2-38-4-6-27-35-50-63l-42-52 17-36 17-35 81 4c80 4 82 4 98-22 15-26 14-30-20-93-37-70-37-83 4-120 19-18 22-17 93 7l74 25 22-22 22-22-21-74-20-75 33-27 33-27 41 20c22 11 52 29 67 40 26 18 29 18 58 3 31-16 31-18 25-65-10-76 1-109 42-127 34-14 37-13 66 14 17 15 42 41 56 56 24 25 29 27 57 17s33-17 39-58c12-80 28-109 66-115 41-6 54 4 94 72 27 46 33 51 65 50 34 0 36-3 67-69 32-70 32-70 72-70 45 0 59 16 81 100 7 25 17 48 24 52 15 10 66 10 66 0 0-4 20-30 45-59 44-51 45-51 81-40 43 13 54 37 54 113 0 52 2 56 32 68 31 13 34 12 70-18 65-56 83-62 123-43 39 19 44 42 24 127-10 42-9 46 15 67l26 22 63-29c75-36 87-37 115-7s28 50-3 115c-18 39-22 59-15 71 19 36 32 40 90 25 82-21 95-19 120 21l22 35-32 49c-17 27-37 55-45 61-12 10-11 17 2 46l17 34h154l15 37c14 35 13 39-7 64-11 14-38 39-58 54-31 24-36 33-31 54 8 34 22 51 42 51 10 0 41 7 69 15l52 16v43c0 49-19 71-87 101-38 16-43 22-43 50s5 34 43 50c68 30 87 52 87 101v43l-52 16c-28 8-59 15-69 15-20 0-34 17-42 51-6 22 0 31 38 59 67 50 76 67 58 113l-15 37h-154l-17 34c-13 29-14 36-2 46 8 6 28 34 45 61l32 49-22 36c-22 35-23 35-74 29-28-4-62-12-75-17-20-7-29-4-49 16l-25 25 26 59c33 73 34 92 4 120s-40 28-114-8l-63-29-26 22c-24 21-25 25-15 67 18 78 14 104-18 123-41 24-49 22-114-28-56-45-58-45-87-30-28 14-30 20-30 70 0 75-11 99-54 112-34 11-37 9-70-27-19-21-40-48-46-60-9-17-19-20-47-18-34 3-36 5-59 72-26 77-34 86-82 86-30 0-34-4-64-67zm93 47c15 0 23-15 41-74l21-74 41-6c35-4 43-2 56 17 8 12 31 40 51 61 32 35 38 38 65 29 32-11 41-34 43-115 1-42 4-49 31-63 37-19 54-19 71 1 7 9 32 29 56 45 42 29 44 30 72 13 26-15 28-21 24-58-3-23-9-56-14-75-7-28-5-37 9-47 9-7 25-19 35-26 16-12 27-9 88 21l69 34 25-23c28-26 27-33-10-116l-23-52 30-36c24-29 33-34 47-26 10 5 44 13 75 18 52 8 57 7 71-14 22-34 19-43-26-103l-41-54 18-38 17-39h72c77 0 89-6 100-51 6-26-17-54-85-102-19-13-21-21-15-57 4-23 12-43 18-45 7-1 42-11 80-20 65-17 67-18 67-50 0-38-18-56-83-85-46-20-47-22-47-66 0-42 2-45 38-61 73-33 92-52 92-88 0-32-1-33-67-50-38-9-73-19-79-20-6-2-14-22-18-45-6-38-4-44 21-63 64-49 85-76 77-99-12-43-24-48-99-48h-72l-17-39-18-38 41-54c45-60 48-69 26-103-14-21-19-22-71-14-31 5-65 13-75 18-14 8-23 3-48-28-21-27-27-42-20-53 5-7 18-38 29-68l21-55-25-25-25-25-70 35c-68 34-70 34-92 16-12-10-28-21-35-25-10-6-11-17-5-42 5-19 11-54 14-78 5-39 3-44-23-57-16-8-31-15-34-15s-31 21-62 46c-56 46-56 46-93 32-36-14-36-14-43-88-9-81-11-86-49-95-21-5-32 0-60 32-19 21-41 48-49 60-13 19-21 21-56 17l-41-6-21-74c-12-41-28-74-35-74-6 0-22-3-34-6-19-5-26 3-55 62-18 38-37 72-43 76-5 4-26 8-45 8-31-1-37-5-53-39-27-60-56-91-82-91-34 0-53 24-60 78-10 73-19 89-59 96-34 6-40 3-86-44-55-54-56-55-94-40-25 9-26 13-26 89v79l-36 21-35 21-32-24c-18-13-47-31-65-40-31-16-36-16-58-1-29 19-30 35-5 114l19 60-34 26-33 25-67-22c-68-22-86-20-108 14-11 18 4 60 41 114l23 35-26 38c-24 37-27 38-62 30-20-5-55-9-78-9-34 0-43 4-52 25-17 37-17 38 38 98l50 55-14 38c-13 39-13 39-80 46-74 7-91 17-99 54-5 27 30 64 90 92 35 17 36 18 27 73-6 32-11 38-48 49-78 23-96 37-96 75s18 52 96 75c38 11 42 16 48 54 6 36 4 43-16 56-77 51-103 77-100 101 6 38 22 48 96 56 69 8 69 8 82 47l14 38-50 55c-55 60-55 61-38 98 12 28 44 32 125 16 41-8 43-7 68 30l25 38-23 35c-37 54-52 96-41 114 22 34 40 36 108 13l66-22 34 26 34 26-19 54c-26 73-24 101 5 120 22 15 27 15 58-1 18-9 47-27 65-40l32-24 35 21 36 21v79c0 76 1 80 26 89 36 14 35 15 91-41 48-47 53-50 88-43 41 7 50 22 60 94 7 58 14 68 52 76 30 6 34 3 67-49 20-31 36-61 36-67 0-5 20-10 45-10h44l36 76c27 59 38 75 51 70 8-3 24-6 35-6z"
                transform="matrix(.1 0 0 -.1 0 259)"
            ></path>
            <ellipse
                fill="none"
                strokeWidth="2"
                rx="10"
                ry="10"
                transform="translate(.5) translate(129 129.5)"
            ></ellipse>
            <g fill="none" strokeLinecap="round">
                <path
                    strokeMiterlimit="2"
                    d="M0 18.685L0 -36.129"
                    transform="matrix(0 1 -1.294 0 174.509 119.522)"
                ></path>
                <path
                    d="M138.47 107.99c4.612 1.602 10.668 7.835 11.95 11.93"
                    transform="matrix(.92956 0 0 .94198 10.316 6.504)"
                ></path>
                <path
                    strokeMiterlimit="2"
                    d="M0 18.792L0 -36.129"
                    transform="matrix(1 0 0 1.28507 139 83.838)"
                ></path>
                <path
                    d="M139 37.1c40.233 4.727 76.99 32.289 82.42 82.4"
                    transform="matrix(1.00026 0 0 1 -.047 0)"
                ></path>
            </g>
            <g
                fill="none"

                strokeLinecap="round"
                transform="rotate(180 129 129.5)"
            >
                <path
                    strokeMiterlimit="2"
                    d="M0 18.685L0 -36.129"
                    transform="matrix(0 1 -1.294 0 174.509 119.522)"
                ></path>
                <path
                    d="M138.47 107.99c4.612 1.602 10.668 7.835 11.95 11.93"
                    transform="matrix(.92956 0 0 .94198 10.316 6.504)"
                ></path>
                <path
                    strokeMiterlimit="2"
                    d="M0 18.792L0 -36.129"
                    transform="matrix(1 0 0 1.28507 139 83.838)"
                ></path>
                <path
                    d="M139 37.1c40.233 4.727 76.99 32.289 82.42 82.4"
                    transform="matrix(1.00026 0 0 1 -.047 0)"
                ></path>
            </g>
            <g
                fill="none"

                strokeLinecap="round"
                transform="rotate(-90 129 129.5)"
            >
                <path
                    strokeMiterlimit="2"
                    d="M0 18.685L0 -36.129"
                    transform="matrix(0 1 -1.294 0 174.509 119.522)"
                ></path>
                <path
                    d="M138.47 107.99c4.612 1.602 10.668 7.835 11.95 11.93"
                    transform="matrix(.92956 0 0 .94198 10.316 6.504)"
                ></path>
                <path
                    strokeMiterlimit="2"
                    d="M0 18.792L0 -36.129"
                    transform="matrix(1 0 0 1.28507 139 83.838)"
                ></path>
                <path
                    d="M139 37.1c40.233 4.727 76.99 32.289 82.42 82.4"
                    transform="matrix(1.00026 0 0 1 -.047 0)"
                ></path>
            </g>
            <g
                fill="none"

                strokeLinecap="round"
                transform="rotate(90 129 129.5)"
            >
                <path
                    strokeMiterlimit="2"
                    d="M0 18.685L0 -36.129"
                    transform="matrix(0 1 -1.294 0 174.509 119.522)"
                ></path>
                <path
                    d="M138.47 107.99c4.612 1.602 10.668 7.835 11.95 11.93"
                    transform="matrix(.92956 0 0 .94198 10.316 6.504)"
                ></path>
                <path
                    strokeMiterlimit="2"
                    d="M0 18.792L0 -36.129"
                    transform="matrix(1 0 0 1.28507 139 83.838)"
                ></path>
                <path
                    d="M139 37.1c40.233 4.727 76.99 32.289 82.42 82.4"
                    transform="matrix(1.00026 0 0 1 -.047 0)"
                ></path>
            </g>
            <ellipse
                fill="none"

                strokeWidth="2"
                rx="99.811"
                ry="99.811"
                transform="translate(129.5 129.5) scale(1.04192)"
            ></ellipse>
            <ellipse
                fill="none"

                rx="92.257"
                ry="92.257"
                transform="matrix(1.06139 0 0 1.06139 129.5 129.5)"
            ></ellipse>
            <ellipse
                fill="none"

                rx="16.703"
                ry="16.703"
                transform="translate(129.5 129.5) scale(1.13754)"
            ></ellipse>
        </svg>
    )
})

function Gear ({angle}) {
    useEffect(() => {
        gsap.to(".gear", { duration: 2, rotation: angle*2, ease: "power4.out"});
    }, [angle])
    return (
        <div className="app">
            <GearSvg />
        </div>
    );
}

export default Gear;